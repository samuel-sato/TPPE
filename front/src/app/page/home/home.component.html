<div class="container">
  <div class="filter-section">
    <mat-form-field appearance="outline" class="department-filter">
      <mat-label>Filtrar por Departamento</mat-label>
      <mat-select [formControl]="selectedDepartment" [compareWith]="compareDepartments">
        <mat-option *ngFor="let dept of departments" [value]="dept.id">
          {{ dept.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="product-grid">
    <mat-card *ngFor="let product of filteredProducts" class="product-card">
      <mat-card-header>
        <mat-card-title>{{ product.name }}</mat-card-title>
        <mat-card-subtitle>{{ product.department }}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>Pre√ßo: {{ product.price | currency:'BRL':'symbol':'1.2-2' }}</p>
        <p *ngIf="product.description">{{ product.description }}</p>
      </mat-card-content>
      <mat-card-actions class="card-actions">
        <button mat-button color="primary" [routerLink]="['/product/', product.id]">Ver Detalhes</button>
      </mat-card-actions>
    </mat-card>

    <div *ngIf="filteredProducts.length === 0" class="no-products-message">
      Nenhum produto encontrado para o departamento selecionado.
    </div>
  </div>
</div>